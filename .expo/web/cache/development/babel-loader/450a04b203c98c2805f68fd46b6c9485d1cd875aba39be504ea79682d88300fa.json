{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, sendPasswordResetEmail, signOut, onAuthStateChanged } from \"firebase/auth\";\nimport { firebaseConfig } from \"../shared/firebaseConfig\";\nvar app = initializeApp(firebaseConfig);\nvar auth = getAuth(app);\nexport var createAccountWithEmail = function () {\n  var _ref = _asyncToGenerator(function* (email, password) {\n    try {\n      var userCredential = yield createUserWithEmailAndPassword(auth, email, password);\n      return userCredential.user;\n    } catch (error) {\n      throw error;\n    }\n  });\n  return function createAccountWithEmail(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var loginWithEmail = function () {\n  var _ref2 = _asyncToGenerator(function* (email, password) {\n    try {\n      var userCredential = yield signInWithEmailAndPassword(auth, email, password);\n      return userCredential.user;\n    } catch (error) {\n      throw error;\n    }\n  });\n  return function loginWithEmail(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var resetPasswordWithEmail = function () {\n  var _ref3 = _asyncToGenerator(function* (email) {\n    try {\n      yield sendPasswordResetEmail(auth, email);\n    } catch (error) {\n      throw error;\n    }\n  });\n  return function resetPasswordWithEmail(_x5) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var logout = function () {\n  var _ref4 = _asyncToGenerator(function* () {\n    try {\n      yield signOut(auth);\n    } catch (error) {\n      throw error;\n    }\n  });\n  return function logout() {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var observeAuthState = function observeAuthState(onUserChanged) {\n  return onAuthStateChanged(auth, onUserChanged);\n};\nexport var getCurrentUserId = function () {\n  var _ref5 = _asyncToGenerator(function* () {\n    var auth = getAuth();\n    var user = auth.currentUser;\n    return user ? user.uid : null;\n  });\n  return function getCurrentUserId() {\n    return _ref5.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["initializeApp","getAuth","createUserWithEmailAndPassword","signInWithEmailAndPassword","sendPasswordResetEmail","signOut","onAuthStateChanged","firebaseConfig","app","auth","createAccountWithEmail","_ref","_asyncToGenerator","email","password","userCredential","user","error","_x","_x2","apply","arguments","loginWithEmail","_ref2","_x3","_x4","resetPasswordWithEmail","_ref3","_x5","logout","_ref4","observeAuthState","onUserChanged","getCurrentUserId","_ref5","currentUser","uid"],"sources":["D:/APP_Financeiro/services/firebase-auth.ts"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport {\r\n  getAuth,\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  sendPasswordResetEmail,\r\n  signOut,\r\n  onAuthStateChanged,\r\n  User\r\n} from \"firebase/auth\";\r\nimport {firebaseConfig} from \"../shared/firebaseConfig\"\r\n\r\n\r\n\r\nimport {\r\n  Alert,\r\n} from \"react-native\";\r\n// Inicializa o Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\n\r\n// Função para registrar um novo usuário\r\nexport const createAccountWithEmail = async (email: string, password: string) => {\r\n    try {\r\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\r\n      return userCredential.user;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n// Função para fazer login\r\nexport const loginWithEmail = async (email: string, password: string) => {\r\n  try {\r\n    const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n    return userCredential.user;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n  // Função para resetar a senha\r\nexport const resetPasswordWithEmail = async (email: string) => {\r\n  try {\r\n    await sendPasswordResetEmail(auth, email);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Função para fazer logout\r\nexport const logout = async () => {\r\n  try {\r\n    await signOut(auth);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Função para acompanhar o estado de autenticação do usuário\r\nexport const observeAuthState = (onUserChanged: (user: User | null) => void) => {\r\n  return onAuthStateChanged(auth, onUserChanged);\r\n};\r\n\r\nexport const getCurrentUserId  = async () =>  {\r\n  const auth = getAuth(); \r\n  const user = auth.currentUser; \r\n  return user ? user.uid : null; \r\n};\r\n\r\n"],"mappings":";AAAA,SAASA,aAAa,QAAQ,cAAc;AAC5C,SACEC,OAAO,EACPC,8BAA8B,EAC9BC,0BAA0B,EAC1BC,sBAAsB,EACtBC,OAAO,EACPC,kBAAkB,QAEb,eAAe;AACtB,SAAQC,cAAc;AAQtB,IAAMC,GAAG,GAAGR,aAAa,CAACO,cAAc,CAAC;AACzC,IAAME,IAAI,GAAGR,OAAO,CAACO,GAAG,CAAC;AAGzB,OAAO,IAAME,sBAAsB;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,KAAa,EAAEC,QAAgB,EAAK;IAC7E,IAAI;MACF,IAAMC,cAAc,SAASb,8BAA8B,CAACO,IAAI,EAAEI,KAAK,EAAEC,QAAQ,CAAC;MAClF,OAAOC,cAAc,CAACC,IAAI;IAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAAA,gBAPUP,sBAAsBA,CAAAQ,EAAA,EAAAC,GAAA;IAAA,OAAAR,IAAA,CAAAS,KAAA,OAAAC,SAAA;EAAA;AAAA,GAOhC;AAGH,OAAO,IAAMC,cAAc;EAAA,IAAAC,KAAA,GAAAX,iBAAA,CAAG,WAAOC,KAAa,EAAEC,QAAgB,EAAK;IACvE,IAAI;MACF,IAAMC,cAAc,SAASZ,0BAA0B,CAACM,IAAI,EAAEI,KAAK,EAAEC,QAAQ,CAAC;MAC9E,OAAOC,cAAc,CAACC,IAAI;IAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAAA,gBAPYK,cAAcA,CAAAE,GAAA,EAAAC,GAAA;IAAA,OAAAF,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,GAO1B;AAGD,OAAO,IAAMK,sBAAsB;EAAA,IAAAC,KAAA,GAAAf,iBAAA,CAAG,WAAOC,KAAa,EAAK;IAC7D,IAAI;MACF,MAAMT,sBAAsB,CAACK,IAAI,EAAEI,KAAK,CAAC;IAC3C,CAAC,CAAC,OAAOI,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAAA,gBANYS,sBAAsBA,CAAAE,GAAA;IAAA,OAAAD,KAAA,CAAAP,KAAA,OAAAC,SAAA;EAAA;AAAA,GAMlC;AAGD,OAAO,IAAMQ,MAAM;EAAA,IAAAC,KAAA,GAAAlB,iBAAA,CAAG,aAAY;IAChC,IAAI;MACF,MAAMP,OAAO,CAACI,IAAI,CAAC;IACrB,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAAA,gBANYY,MAAMA,CAAA;IAAA,OAAAC,KAAA,CAAAV,KAAA,OAAAC,SAAA;EAAA;AAAA,GAMlB;AAGD,OAAO,IAAMU,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,aAA0C,EAAK;EAC9E,OAAO1B,kBAAkB,CAACG,IAAI,EAAEuB,aAAa,CAAC;AAChD,CAAC;AAED,OAAO,IAAMC,gBAAgB;EAAA,IAAAC,KAAA,GAAAtB,iBAAA,CAAI,aAAa;IAC5C,IAAMH,IAAI,GAAGR,OAAO,CAAC,CAAC;IACtB,IAAMe,IAAI,GAAGP,IAAI,CAAC0B,WAAW;IAC7B,OAAOnB,IAAI,GAAGA,IAAI,CAACoB,GAAG,GAAG,IAAI;EAC/B,CAAC;EAAA,gBAJYH,gBAAgBA,CAAA;IAAA,OAAAC,KAAA,CAAAd,KAAA,OAAAC,SAAA;EAAA;AAAA,GAI5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}